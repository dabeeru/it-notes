

- Regional service
- **Manages customer master keys \(CMKs\)**
- Can encrypt S3, databases or System Manager Parameter store secrets
- **Payment per API call**
    Can encrypt and decrypt data up to 4KB in size
- Audit capability using CloudTrail
- FIPS 140\-2 Level 2 compliant \- private keys are stored in the way that any acces would have to be noticed \(tampering\)

### KMS key

- KMS Key is a cryptographic master key
- It can be **symmetric** or **asymmetric**
- It can be also **HMAC**
- Keys are not being used outside KMS unencrypted, so are always used via KMS service
- Keys can be created by **Customer** \(Cusomer Managed Key\) or by AWS \(AWS managed key\)
- by default keys are generated by AWS but can be also uploaded \(to Cloud HSM cluster\)

### Customer managed keys

- You can manage **cryptographic material, key policies, IAM policies, grants**
- CMKs types
    - **AWS Managed CMK** \- Free, used by default, only single service can use them
    - **AWS Owned CMK**  used on shared basis on multiple account\- cannot be viewed
    - **Customer managed key ** Allow key rotation, controll via key policies and can be enabled/disabled
- **CMKs symmetry**
    - **Symmetric** \- same key used for encryption and decryption
        - AES\-256
        - Never leaves AWS unencrypted
        - Must call the KMS APIs to use
        - AWS services integrated with KMS use symmetric CMKs
        - Can be used to import your own key material
    - **Asymmetric**  public key for encyryption, private key for decryption
        - RSA and ECC cryptography
        - Private key never leaves AWS unencrypted
        - Must call KMS APIs to use private key
        - You can download public key and use outside
        - AWS services integrated with KMS do not use symmetric CMKs
        - Useful for signing messages

### Key symetry

- By default all services which are integrated with KMS are using symmetric encrytpion
- You can create asymetric keys but in order o use them you need to use AWS KMS API to use the private key

### HMAC

- type of symmetric key of varying length that is used to generate and verify hash\-based message authentications codes

### Encryption context

- Key value pairs metadata added to encryption request
- This context is bounded to the encryption
- Request to decrypt the data has to include the same context

### Key policy

- Determines who can use KMS keys \(can be done only for Customer managed keys\)

### Grant

- policy instruments which allows AWS principals to use AWS KMS keys

### Auditing

- ### usage of the key can be checked via Cloudtrail

### ReEncryption

- it's an API operation which lets you change the key for the data
- data are being decrypted with old key and the encrypted with new one
